<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>카드/적 도감 | 시너지 턴 카드 배틀 v1.2</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app">
    <header class="top-bar">
      <div>
        <h1>카드 도감</h1>
        <p class="subtitle">카드 100장, 적 도감, 추천 덱 컨셉을 한 페이지에서 확인하세요.</p>
      </div>
      <div class="controls">
        <a href="index.html"><button type="button">전투 화면으로 돌아가기</button></a>
        <a href="hall.html"><button type="button">명예의 전당</button></a>
      </div>
    </header>

    <section class="panel">
      <h2>전체 카드 목록</h2>
      <p class="small">버전 v1.2 카드 풀(100장)을 기준으로 렌더링합니다.</p>
      <div id="codex-cards" class="hand"></div>
    </section>

    <section class="panel">
      <h2>적 도감</h2>
      <p class="small">적 컨셉, 패턴, 대응 팁을 확인하세요.</p>
      <div id="enemy-codex" class="deck-list"></div>
    </section>


    <section class="panel">
      <h2>지역 목록</h2>
      <p class="small">분기 선택에서 등장하는 지역 후보를 확인하세요.</p>
      <div id="region-codex" class="deck-list"></div>
    </section>

    <section class="panel">
      <h2>추천 덱 운영 가이드</h2>
      <p class="small">핵심 카드만 모였을 때 효율이 높은 운용 예시입니다.</p>
      <div id="deck-guides" class="deck-list"></div>
    </section>
  </main>
  <script>
    const isFileProtocol = window.location.protocol === 'file:';

    if (isFileProtocol) {
      const app = document.querySelector('.app');
      app.innerHTML = `
        <section class="panel">
          <h2>실행 방식 안내</h2>
          <p>보안 정책(CORS) 때문에 <code>codex.html</code>을 파일로 직접 열면 도감 스크립트를 불러올 수 없습니다.</p>
          <p>아래처럼 로컬 서버로 실행해 주세요.</p>
          <pre>python3 -m http.server 8000
http://localhost:8000/codex.html</pre>
        </section>
      `;
      console.error('[실행 오류] file:// 경로에서는 ES 모듈 로딩이 차단됩니다. 로컬 서버로 실행해 주세요.');
    } else {
      const script = document.createElement('script');
      script.type = 'module';
      script.src = './codex.js';
      document.body.appendChild(script);
    }
  </script>
</body>
</html>
